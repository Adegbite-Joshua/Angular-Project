<app-admin-navbar>
    <div class="p-3">
        <div class="flex justify-end p-2 items-center">
            <p class="w-afull sm:w-5/6 text-center">{{ todaysDate | date:'longDate' }}</p>
            <button class="w-afull sm:w-1/6 px-3 py-2 text-white bg-blue-600 rounded-md">Create Booking</button>
        </div>
    </div>
    <div class="bg-slate-300 p-3">
        <div class="bg-white px-4 py-2 rounded-lg shadow-md mb-6">
            <h2 class="text-3xl font-semibold mb-2">Overview</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                <div>
                    <p class="text-sm">Today's</p>
                    <p class="text-lg">Check-in: <span class="text-blue-600 text-xl">{{ overview?.check_in || 0}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-sm">Today's</p>
                    <p class="text-lg">Check-out: <span class="text-blue-600 text-xl">{{ overview?.check_out || 0}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-sm">Total</p>
                    <p class="text-lg">In Hotel: <span class="text-blue-600 text-xl">{{ overview?.inHotel || 0}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-sm">Total</p>
                    <p class="text-lg">Available Rooms: <span class="text-blue-600 text-xl">{{
                            overview?.available_rooms || 0}}</span></p>
                </div>
                <div>
                    <p class="text-sm">Total</p>
                    <p class="text-lg">Occupied Rooms: <span class="text-blue-600 text-xl">{{ overview?.occupied_rooms || 0
                            }}</span></p>
                </div>
            </div>
        </div>

        <div class="room-types bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-2">Rooms</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                    <div *ngFor="let roomType of room_metrics | keyvalue">
                        <div class="border-2 p-2 rounded-md">
                            <p class="text-xl">{{ roomType.key }}</p> <!-- Displays the room type (e.g., 'single', 'double', etc.) -->
                            <p><span class="text-xl">{{ roomType.value['booked'] }}</span>/{{ roomType.value['total_rooms'] }}</p>
                            <p><span class="text-xl text-blue-600">${{ roomType.value['price'] }}</span>/day</p>
                        </div>
                    </div>                
            </div>
        </div>

        <div class="room-status bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-semibold mb-2">Room Status</h2>
            <div class="flex flex-col md:flex-row">
                <div class="w-full md:w-4/6">
                    <div class="flex justify-between"><span>Occupied Rooms:</span><span>{{ roomStatus.occupied }}</span>
                    </div>
                    <div class="flex justify-between"><span>Clean Rooms:</span><span>{{ roomStatus.clean }}</span>
                    </div>
                    <div class="flex justify-between"><span>Dirty Rooms:</span><span>{{ roomStatus.dirty }}</span>
                    </div>
                    <div class="flex justify-between"><span>Inspected Rooms:</span><span>{{ roomStatus.inspected
                            }}</span></div>
                </div>
                <div class="w-full md:w-2/6 flex justify-center">
                    <canvas #myChart2></canvas>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-12 gap-2">
            <div class="col-span-12 md:col-span-7 mx-1 occupancy-statistics bg-white p-4 rounded-lg shadow-md mb-6">
                <h2 class="text-2xl font-semibold mb-2">Occupancy Statistics</h2>
                <div class="flex justify-center h-[300px]">
                    <canvas #myChart></canvas>
                </div>
            </div>

            <div class="col-span-12 md:col-span-5 mx-1 customer-feedback bg-white p-4 rounded-lg shadow-md mb-6">
                <h2 class="text-2xl font-semibold mb-2">Customers Review</h2>
                <div class="space-y-2 overflow-y-auto h-72">
                    <div *ngFor="let review of reviews">
                        <div class="flex items-end gap-2 mb-1">
                            <img src="assets/13.jpg" class="h-12 w-12 rounded-full" alt="">
                            <strong>{{ review.name }}</strong>
                            <span><app-star-rating [rating]="review.star_rating" [readOnly]="true" [maxRating]="5"></app-star-rating></span>
                        </div>
                        <hr>
                        <p>{{ review.review }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</app-admin-navbar>